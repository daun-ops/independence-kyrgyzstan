<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>–° –î–Ω–µ–º –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–∞</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Lobster&family=Rubik:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body, html {
      margin: 0; padding: 0; height: 100%; overflow: hidden;
      font-family: 'Rubik', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: #d80027; /* –∫—Ä–∞—Å–Ω—ã–π —Ñ–æ–Ω –∫–∞–∫ —É —Ñ–ª–∞–≥–∞ –Ω–∞ —Å–ª—É—á–∞–π –ø—Ä–æ–±–ª–µ–º —Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º */
    }
    @keyframes wave {
      0% { background-position: 50% 50%; }
      50% { background-position: 52% 48%; }
      100% { background-position: 50% 50%; }
    }
    .overlay {
      position: fixed; top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.4);
      z-index: 1;
    }
    /* –°–ª–æ–π —Ñ–ª–∞–≥–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π ¬´—Ä–∞–∑–≤–µ–≤–∞–Ω–∏—è¬ª */
    .flag {
      position: fixed; inset: 0;
      background-color: #d80027; /* –∫—Ä–∞—Å–Ω—ã–π —Ñ–æ–Ω –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è */
      background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Flag_of_Kyrgyzstan.svg/1920px-Flag_of_Kyrgyzstan.svg.png');
      background-position: center;
      background-repeat: no-repeat;
      background-size: cover;
      z-index: 0;
      transform-origin: left center;
      filter: saturate(1.05) brightness(1.03);
      animation: flagWave 6s ease-in-out infinite;
    }
    .flag::after {
      content: "";
      position: absolute; inset: 0;
      /* –ü–æ–¥–≤–∏–∂–Ω—ã–µ –±–ª–∏–∫–∏/—Ç–µ–Ω–∏, —Å–æ–∑–¥–∞—é—â–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç—å —Å–∫–ª–∞–¥–æ–∫ */
      background: linear-gradient(
        to right,
        rgba(255,255,255,0.10) 0%,
        rgba(0,0,0,0.00) 20%,
        rgba(0,0,0,0.10) 50%,
        rgba(0,0,0,0.00) 80%,
        rgba(255,255,255,0.08) 100%
      );
      background-size: 160px 100%;
      mix-blend-mode: overlay;
      pointer-events: none;
      animation: waveLight 3s linear infinite;
      opacity: 0.55;
    }
    @keyframes flagWave {
      0%   { transform: perspective(900px) rotateY(0.8deg) skewY(0.6deg) scaleY(1.00); }
      50%  { transform: perspective(900px) rotateY(-2deg)  skewY(-1.2deg) scaleY(1.02) translateX(-6px); }
      100% { transform: perspective(900px) rotateY(0.8deg) skewY(0.6deg) scaleY(1.00); }
    }
    @keyframes waveLight {
      from { background-position: 0 0; }
      to   { background-position: 320px 0; }
    }
    .text-container {
      text-align: center;
      color: #fff;
      padding: 1rem;
      background: rgba(0,0,0,0.4);
      border-radius: 1rem;
      animation: glow 2.5s infinite alternate;
      position: relative;
      z-index: 2;
    }
    .text-container h1,
    .text-container h2 {
      font-family: 'Lobster', 'Rubik', sans-serif;
      letter-spacing: 0.5px;
      text-shadow: 0 2px 8px rgba(0,0,0,0.5);
    }
    @keyframes glow {
      from { box-shadow: 0 0 10px rgba(255, 215, 0, 0.7), 0 0 20px rgba(255, 0, 0, 0.6); }
      to { box-shadow: 0 0 25px rgba(255, 255, 0, 1), 0 0 50px rgba(255, 0, 0, 0.9); }
    }
    .confetti {
      position: fixed;
      width: 10px; height: 10px;
      background-color: red;
      top: -10px;
      animation: fall linear forwards;
    }
    @keyframes fall {
      to { transform: translateY(110vh) rotate(360deg); }
    }
    .firework {
      position: fixed;
      /* –ï—â—ë –º–µ–Ω—å—à–∏–µ —á–∞—Å—Ç–∏—Ü—ã, —Ö–≤–æ—Å—Ç—ã –æ—Å—Ç–∞–≤–ª—è–µ–º –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
      width: 6px; height: 6px;
      background: yellow;
      border-radius: 50%;
      box-shadow: 0 0 18px rgba(255,255,150,0.9), 0 0 36px rgba(255,100,0,0.7);
      animation: moveexplode 1.8s ease-out forwards;
    }
    /* –°–≤–µ—Ç—è—â–∏–π—Å—è —Ö–≤–æ—Å—Ç –≤–¥–æ–ª—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—ë—Ç–∞ */
    .firework::after {
      content: "";
      position: absolute;
      left: 50%; top: 50%;
      transform: translate(-50%, -50%) rotate(var(--angle, 0rad));
      width: var(--tail, 120px);
      height: 3px;
      background: linear-gradient(90deg, rgba(255,255,255,0.0) 0%, rgba(255,255,150,0.85) 60%, rgba(255,120,0,0.0) 100%);
      filter: blur(1px);
      opacity: 0.9;
      border-radius: 2px;
      pointer-events: none;
    }
    @keyframes moveexplode {
      0% { transform: translate(0, 0) scale(0.3); opacity: 1; }
      70% { transform: translate(var(--dx, 0), var(--dy, 0)) scale(2.5); opacity: 1; }
      100% { transform: translate(calc(var(--dx, 0) * 1.05), calc(var(--dy, 0) * 1.05)) scale(3.5); opacity: 0; }
    }
    /* –ê–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) */
    .character {
      position: fixed;
      right: 2rem; bottom: 1.5rem;
      width: min(22vw, 220px);
      height: auto;
      z-index: 2; /* –Ω–∞–¥ overlay (1) –∏ —Ñ–ª–∞–≥–æ–º (0), –ø–æ–¥ —Ç–µ–∫—Å—Ç–æ–º (2/3) */
      animation: bob 3.5s ease-in-out infinite;
      pointer-events: none;
      filter: drop-shadow(0 10px 20px rgba(0,0,0,0.6));
    }
    @keyframes bob {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }
    /* –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: –¥–æ 480px */
    @media (max-width: 480px) {
      .character {
        width: 34vw;
        bottom: 1rem;
        right: 1rem;
      }
      .text-container h1 { font-size: 1.8rem; }
      .text-container h2 { font-size: 1.2rem; }
    }
  </style>
</head>
<body class="flex items-center justify-center">

  <div class="flag"></div>
  <div class="overlay"></div>
  <!-- –ü–µ—Ä—Å–æ–Ω–∞–∂ (—Å–∫—Ä—ã—Ç, –ø–æ–∫–∞ –Ω–µ –∑–∞–¥–∞–Ω URL) -->
  <img id="character" class="character" alt="–ê–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂" style="display:none" />

  <div class="text-container animate-scaleIn">
    <h1 class="text-4xl md:text-6xl font-bold animate-fadeInUp">
      –° –î–ù–Å–ú –ù–ï–ó–ê–í–ò–°–ò–ú–û–°–¢–ò
    </h1>
    <h2 class="text-2xl md:text-4xl mt-4 animate-scaleIn">
      –ö–´–†–ì–´–ó–°–¢–ê–ù–ê üá∞üá¨
    </h2>
    <button id="startBtn" type="button" aria-label="–ù–∞—á–∞—Ç—å –ø—Ä–∞–∑–¥–Ω–∏–∫" class="mt-6 text-lg md:text-xl italic underline cursor-pointer focus:outline-none focus:ring-2 focus:ring-yellow-300 rounded px-2 bg-transparent">
      –Ω–∞—á–∞—Ç—å –ø—Ä–∞–∑–¥–Ω–∏–∫ üéâ
    </button>
  </div>

  <script>
    // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ URL –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (–ª—É—á—à–µ –ø–æ–ª–æ–∂–∏—Ç—å —Ñ–∞–π–ª —Ä—è–¥–æ–º —Å index.html –∏ —É–∫–∞–∑–∞—Ç—å 'character.gif')
    const characterUrl = 'https://raw.githubusercontent.com/daun-ops/independence-kyrgyzstan/63583875caee68eaca62f27d25ef5252b448c4ae/ZLnU.gif';
    const characterEl = document.getElementById('character');
    if (characterEl && characterUrl) {
      characterEl.src = characterUrl;
      characterEl.style.display = 'block';
    }

    // –ó–≤—É–∫–∏ —Ñ–∞–Ω—Ñ–∞—Ä + —Å–∞–ª—é—Ç
    // –ê—É–¥–∏–æ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è GitHub (raw URL –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–º–º–∏—Ç)
    const githubFanfareUrl = "https://raw.githubusercontent.com/daun-ops/independence-kyrgyzstan/6377855f91cc90fb7f1f7a8e5eda7b3205aeeb9e/arab.mp3";
    const fanfare = new Audio(githubFanfareUrl);
    const fireworkSound = new Audio("https://cdn.pixabay.com/download/audio/2022/03/15/audio_b99d9b76a1.mp3?filename=firework-explosion-6962.mp3");
    fanfare.preload = "auto"; fanfare.load();
    fireworkSound.preload = "auto"; fireworkSound.load();
    fanfare.volume = 0.6;
    fireworkSound.volume = 0.6;

    let started = false;
    let fireworkInterval;
    let musicFireworkInterval;
    let musicBigBoomInterval;

    const startBtn = document.getElementById('startBtn');
    if (startBtn) {
      // –ò—Å–ø–æ–ª—å–∑—É–µ–º pointerup –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö
      startBtn.addEventListener('pointerup', startCelebration, { once: true });
      // –§–æ–ª–±—ç–∫ –Ω–∞ click –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤/–ø–ª–∞—Ç—Ñ–æ—Ä–º
      startBtn.addEventListener('click', startCelebration, { once: true });
      // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (Enter/Space)
      startBtn.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          startCelebration();
        }
      }, { once: true });
    }

    function startCelebration() {
      if (started) return;
      started = true; // —Ñ–∏–∫—Å–∏—Ä—É–µ–º —Å—Ç–∞—Ä—Ç, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –¥–≤–æ–π–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤

      // –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –≤–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
      if (navigator.vibrate) { try { navigator.vibrate([200, 100, 200]); } catch(_) {} }
      // –ü–ª–∞–≤–Ω–æ —Å–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
      if (startBtn) {
        startBtn.classList.add('opacity-0', 'transition', 'duration-500');
        setTimeout(() => { startBtn.style.display = 'none'; }, 600);
      }

      // –ó–≤—É–∫ –∏ —Å–∞–ª—é—Ç
      try { fanfare.currentTime = 0; fanfare.play().catch(()=>{}); } catch(_) {}
      createFirework(); // –ø–µ—Ä–≤—ã–π —Å–∞–ª—é—Ç —Å—Ä–∞–∑—É, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–µ–ª —ç—Ñ—Ñ–µ–∫—Ç
      try { fireworkSound.currentTime = 0; fireworkSound.play().catch(()=>{}); } catch(_) {}

      // –¶–∏–∫–ª–∏—á–Ω—ã–µ —Å–∞–ª—é—Ç—ã
      fireworkInterval = setInterval(() => {
        createFirework();
        if (navigator.vibrate) { try { navigator.vibrate(100); } catch(_) {} }
        try { fireworkSound.currentTime = 0; fireworkSound.play().catch(()=>{}); } catch(_) {}
      }, 4000);
    }

    

    // –ö–æ–Ω—Ñ–µ—Ç—Ç–∏
    function createConfetti() {
      const confetti = document.createElement('div');
      confetti.classList.add('confetti');
      confetti.style.left = Math.random() * 100 + 'vw';
      confetti.style.backgroundColor = ['red','yellow','white'][Math.floor(Math.random()*3)];
      confetti.style.animationDuration = (2 + Math.random() * 3) + 's';
      document.body.appendChild(confetti);
      setTimeout(() => confetti.remove(), 5000);
    }
    setInterval(createConfetti, 300);

    // –°–∞–ª—é—Ç
    function createFirework(particles = 40, radiusMax = 220) {
      const x = Math.random() * window.innerWidth;
      const y = Math.random() * window.innerHeight * 0.5;

      for (let i = 0; i < particles; i++) {
        const firework = document.createElement('div');
        firework.classList.add('firework');
        firework.style.left = x + 'px';
        firework.style.top = y + 'px';
        firework.style.background = ['yellow','red','white'][Math.floor(Math.random()*3)];

        const angle = Math.random() * 2 * Math.PI;
        const radius = Math.random() * radiusMax;
        const dx = Math.cos(angle) * radius;
        const dy = Math.sin(angle) * radius;

        // –ü–µ—Ä–µ–¥–∞—ë–º —Å–º–µ—â–µ–Ω–∏–µ –∏ —É–≥–æ–ª —á–µ—Ä–µ–∑ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ —Ö–≤–æ—Å—Ç–∞
        firework.style.setProperty('--dx', `${dx}px`);
        firework.style.setProperty('--dy', `${dy}px`);
        firework.style.setProperty('--angle', `${angle}rad`);
        // –î–ª–∏–Ω–∞ —Ö–≤–æ—Å—Ç–∞ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –¥–∞–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞–∑–ª—ë—Ç–∞
        firework.style.setProperty('--tail', `${Math.max(100, radius)}px`);

        document.body.appendChild(firework);
        setTimeout(() => firework.remove(), 1800);
      }
    }

    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∑—Ä—ã–≤–∞–º–∏ –ø–æ –º—É–∑—ã–∫–µ
    function stopMusicBooms() {
      if (musicFireworkInterval) { clearInterval(musicFireworkInterval); musicFireworkInterval = null; }
      if (musicBigBoomInterval) { clearInterval(musicBigBoomInterval); musicBigBoomInterval = null; }
    }

    // –ù–∞ —Å—Ç–∞—Ä—Ç–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –º—É–∑—ã–∫–∏ —É—Å–∏–ª–∏–≤–∞–µ–º —á–∞—Å—Ç–æ—Ç—É —Å–∞–ª—é—Ç–æ–≤
    fanfare.addEventListener('play', () => {
      // –û—Ç–∫–ª—é—á–∏–º –±–∞–∑–æ–≤—ã–π —Ç–∞–π–º–µ—Ä, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —á–∞—Å—Ç–∏—Ü
      if (fireworkInterval) { clearInterval(fireworkInterval); fireworkInterval = null; }

      stopMusicBooms();
      // –ù–µ–±–æ–ª—å—à–∏–µ —á–∞—Å—Ç—ã–µ –≤—Å–ø—ã—à–∫–∏ (–ø—Ä–∏–º–µ—Ä–Ω–æ –≤ —Ç–∞–∫—Ç)
      musicFireworkInterval = setInterval(() => {
        createFirework(24, 140);
        try { fireworkSound.currentTime = 0; fireworkSound.play().catch(()=>{}); } catch(_) {}
      }, 800);
      // –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –±–æ–ª—å—à–∏–µ ¬´–∑–∞–ª–ø—ã¬ª
      musicBigBoomInterval = setInterval(() => {
        createFirework(80, 280);
        try { fireworkSound.currentTime = 0; fireworkSound.play().catch(()=>{}); } catch(_) {}
      }, 3200);
    });

    // –ü—Ä–∏ –ø–∞—É–∑–µ/–æ–∫–æ–Ω—á–∞–Ω–∏–∏ ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –≤–∑—Ä—ã–≤—ã –∏ –≤–µ—Ä–Ω—É—Ç—å –±–∞–∑–æ–≤—ã–π —Ç–µ–º–ø
    fanfare.addEventListener('pause', () => {
      stopMusicBooms();
      if (!fireworkInterval) {
        fireworkInterval = setInterval(() => {
          createFirework();
          try { fireworkSound.currentTime = 0; fireworkSound.play().catch(()=>{}); } catch(_) {}
        }, 4000);
      }
    });
    fanfare.addEventListener('ended', () => {
      stopMusicBooms();
    });
  </script>
</body>
</html>
